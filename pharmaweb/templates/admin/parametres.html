{% extends "admin/base_admin.html" %}

{% block title %}Paramètres de la Pharmacie{% endblock %}

{% block content %}
<div class="container-fluid px-4">
    <h1 class="mt-4"><i class="fas fa-cog me-2"></i>Paramètres de la Pharmacie</h1>
    <ol class="breadcrumb mb-4">
        <li class="breadcrumb-item"><a href="{{ url_for('views.admin_dashboard') }}">Tableau de bord</a></li>
        <li class="breadcrumb-item active">Paramètres</li>
    </ol>

    <div class="card mb-4">
        <div class="card-header bg-primary text-white">
            <i class="fas fa-info-circle me-1"></i>
            Informations de la pharmacie
        </div>
        <div class="card-body">
            <form method="POST" enctype="multipart/form-data">
                {{ form.hidden_tag() }}
                
                <div class="row mb-3">
                    <div class="col-md-6">
                        {{ form.nom_pharmacie.label(class="form-label") }}
                        {{ form.nom_pharmacie(class="form-control") }}
                    </div>
                    <div class="col-md-6">
                        <label class="form-label">Logo</label>
                        <div class="d-flex align-items-center">
                            {% if parametres.chemin_logo and parametres.inclure_logo %}
                            <img src="{{ parametres.chemin_logo }}" height="60" class="me-3">
                            {% endif %}
                            <input type="file" name="logo" class="form-control">
                        </div>
                        <div class="form-check mt-2">
                            {{ form.inclure_logo(class="form-check-input") }}
                            {{ form.inclure_logo.label(class="form-check-label") }}
                        </div>
                    </div>
                </div>

                <h5 class="mt-4 mb-3">Adresse</h5>
                <div class="row mb-3">
                    <div class="col-md-6">
                        {{ form.adresse_rue.label(class="form-label") }}
                        {{ form.adresse_rue(class="form-control") }}
                    </div>
                    <div class="col-md-3">
                        {{ form.adresse_ville.label(class="form-label") }}
                        {{ form.adresse_ville(class="form-control") }}
                    </div>
                    <div class="col-md-3">
                        {{ form.adresse_code_postal.label(class="form-label") }}
                        {{ form.adresse_code_postal(class="form-control") }}
                    </div>
                </div>
                <div class="row mb-3">
                    <div class="col-md-6">
                        {{ form.adresse_pays.label(class="form-label") }}
                        {{ form.adresse_pays(class="form-control") }}
                    </div>
                </div>

                <h5 class="mt-4 mb-3">Coordonnées</h5>
                <div class="row mb-3">
                    <div class="col-md-4">
                        {{ form.telephone_principal.label(class="form-label") }}
                        {{ form.telephone_principal(class="form-control") }}
                    </div>
                    <div class="col-md-4">
                        {{ form.telephone_secondaire.label(class="form-label") }}
                        {{ form.telephone_secondaire(class="form-control") }}
                    </div>
                    <div class="col-md-4">
                        {{ form.email.label(class="form-label") }}
                        {{ form.email(class="form-control") }}
                    </div>
                </div>

                <h5 class="mt-4 mb-3">Informations légales</h5>
                <div class="row mb-3">
                    <div class="col-md-4">
                        {{ form.rccm.label(class="form-label") }}
                        {{ form.rccm(class="form-control") }}
                    </div>
                    <div class="col-md-4">
                        {{ form.numero_tva.label(class="form-label") }}
                        {{ form.numero_tva(class="form-control") }}
                    </div>
                    <div class="col-md-4">
                        {{ form.numero_ordre_pharmaciens.label(class="form-label") }}
                        {{ form.numero_ordre_pharmaciens(class="form-control") }}
                    </div>
                </div>
                <div class="row mb-3">
                    <div class="col-md-6">
                        {{ form.responsable_legal.label(class="form-label") }}
                        {{ form.responsable_legal(class="form-control") }}
                    </div>
                </div>

                <div class="mb-3">
                    {{ form.message_accueil_recu.label(class="form-label") }}
                    {{ form.message_accueil_recu(class="form-control", rows=4) }}
                </div>

                <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-save me-1"></i> Enregistrer
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock %}